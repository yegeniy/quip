<!DOCTYPE html>
<html>
<head>
  <title>Template Generator</title>
  <style>
    body { margin: 20px; font-family: sans-serif; }
    #container { display: flex; flex-direction: column; gap: 10px; max-width: 40em; }
    textarea { width: 100%; min-height: 600px; margin-top: 10px; }
    .input-group { display: flex; gap: 10px; align-items: center; }
    label { min-width: 100px; }
  </style>
</head>
<body>
  <div id="container">
    <textarea readonly onfocus="this.select()"></textarea>
    <div id="inputs"></div>
  </div>

  <script>
    const template = `Please create a 10-minute reading session for this paper, with precise timing. Do it one minute per turn. Each minute should contain approximately 200 words of dense, meaningful content (about 2 paragraphs). Here is an Example Structure:

Minutes 1-3: Core innovation and historical context
What problem existed
How this paper solved it
Key technical details
Minutes 4-6: Implementation details
Architecture specifics
Training methodology
Critical design decisions
Minutes 7-8: Results and validation
Key experimental findings
Breakthrough metrics
Comparative advantages
Minutes 9-10: Impact and limitations
Why this matters
Known limitations
Future directions

Please write enough content that each section actually takes its allocated minutes to read carefully and comprehend. Mark each section with its intended reading duration. I will be timing this, so ensure each minute contains roughly 200 words of meaningful content. Focus on the most important concepts first
To pace yourself. Only generate one minute at a time.

\${paper}`;

    const inputsDiv = document.getElementById('inputs');
    const textarea = document.querySelector('textarea');

    const variables = [...template.matchAll(/\${(\w+)}/g)]
      .map(match => match[1])
      .filter((v, i, a) => a.indexOf(v) === i);

    variables.forEach(v => {
      const div = document.createElement('div');
      div.className = 'input-group';
      div.innerHTML = `<label for="${v}">${v}:</label><input type="text" id="${v}" name="${v}">`;
      inputsDiv.appendChild(div);
    });

    const updateTemplate = () => {
      const values = Object.fromEntries(variables.map(v => [v, document.getElementById(v).value]));
      textarea.value = template.replace(/\${(\w+)}/g, (_, key) => values[key] || '');
    };

    document.querySelectorAll('input').forEach(input => input.addEventListener('input', updateTemplate));
    updateTemplate();
  </script>
</body>
</html>